(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/masterful-icon.3331f267.svg"},103:function(e,t,a){e.exports=a.p+"static/media/illus_learner.afc8d1cf.svg"},104:function(e,t,a){e.exports=a.p+"static/media/illus_master.c48e8c2e.svg"},105:function(e,t,a){e.exports=a.p+"static/media/app_store_icon.2928664f.svg"},106:function(e,t,a){e.exports=a.p+"static/media/google_play_icon.db9b21a1.png"},108:function(e,t,a){e.exports=a.p+"static/media/masterful-text.6541faca.svg"},132:function(e,t,a){e.exports=a(206)},139:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);a(133);var n=a(42),r=a.n(n),c=(a(134),a(0)),l=a.n(c),s=a(19),o=a.n(s),i=(a(139),a(11)),m=a(18),u=a(23),d=a(102),E=a.n(d),f=a(103),p=a.n(f),g=a(104),b=a.n(g),h=a(105),N=a.n(h),v=a(106),w=a.n(v),x=a(26),O=Object(c.createContext)(),y={isLoggedIn:!1,user:null},j=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(t.payload)),Object(x.a)(Object(x.a)({},e),{},{isLoggedIn:!0,user:t.payload});case"LOGOUT":return localStorage.clear(),Object(x.a)(Object(x.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}};function C(){var e=Object(c.useContext)(O),t=e.state,a=e.dispatch;return l.a.createElement("div",{className:"header"},l.a.createElement("img",{className:"header-icon",src:E.a,alt:"MASTERFUL"}),!t.isLoggedIn&&l.a.createElement(m.b,{to:"/login"},l.a.createElement("h1",{className:"welcome-text"},"Sign In")),t.isLoggedIn&&l.a.createElement("div",{className:"dropdown show"},l.a.createElement("a",{className:"dropdown-toggle",role:"button","data-toggle":"dropdown"},l.a.createElement("span",{className:"h1 welcome-text-loggedin"},"Hi, ",t.user.firstName)),l.a.createElement("div",{className:"dropdown-menu"},l.a.createElement(m.b,{to:"/dashboard",className:"dropdown-item"},"DASHBOARD ",l.a.createElement("span",{role:"img","aria-label":"dashboard-icon"},"\ud83d\udcca")),l.a.createElement(m.b,{to:"/master",className:"dropdown-item"},"MASTER ",l.a.createElement("span",{role:"img","aria-label":"master-icon"},"\ud83e\udd13")),l.a.createElement("a",{className:"dropdown-item",onClick:function(){a({type:"LOGOUT"})}},"LOG OUT"))))}var L=function(){var e=Object(c.useContext)(O).state;return l.a.createElement(l.a.Fragment,null,l.a.createElement(C,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"intro-learner"},l.a.createElement("div",{className:"content"},l.a.createElement("p",null,"At ",l.a.createElement("b",null,"Masterful"),", we believe in the beauty of learning, and that is also how ",l.a.createElement("b",null,"Masterful")," came into existence. Learners are given countless options to gain experience through video conferencing with masters. This format encourages immediate response to inquiries and feedbacks, and thus boosts the effectiveness of the learning experience."),l.a.createElement(m.b,{to:e.isLoggedIn?"/dashboard":"/login"},l.a.createElement("button",{className:"btn-start"},"BECOME A LEARNER"))),l.a.createElement("div",{className:"illus"},l.a.createElement("img",{className:"illus-img",src:p.a,alt:"LEARNER"}))),l.a.createElement("div",{className:"intro-master"},l.a.createElement("div",{className:"illus"},l.a.createElement("img",{className:"illus-img",src:b.a,alt:"MASTER"})),l.a.createElement("div",{className:"content"},l.a.createElement("p",null,"Learning does not end in classroom environments. Virtual learning has been on the rise, and masters are given the opportunity to spread their knowledge to the public at ",l.a.createElement("b",null,"Masterful"),". From restricting attendance to holding live class session with students, masters are given similar control over their course just like an in-person classroom setting. Masters can choose to hold the class free-of-charge, donation-based, or fixed-priced. To ensure a perfect experience for both masters and learners, ",l.a.createElement("b",null,"Masterful")," will conduct screening for lecture materials and relevant credentials before the class is in session. "),l.a.createElement(m.b,{to:e.isLoggedIn?"/master":"/login"},l.a.createElement("button",{className:"btn-start"},"BECOME A MASTER")))),l.a.createElement("div",{className:"vw-100 mobile-store"},l.a.createElement("div",{className:"mobile-store-icons"},l.a.createElement("img",{className:"appstore-icon",src:N.a,alt:"app store"}),l.a.createElement("img",{className:"googleplaystore-icon",src:w.a,alt:"google play"})))))},S=a(13),I=a(25),D=a.n(I),A=function(e){return D.a.post("/api/sessions",e)},_=function(e){return D.a.post("/api/users",e)},T=function(e){return D.a.get("/api/courses/".concat(e))},F=function(e,t){return D.a.post("/api/courses/".concat(e,"/enrollments"),{userId:t})},R=function(e,t){return D.a.delete("/api/courses/".concat(e,"/enrollments"),{data:{userId:t}})},k=function(e,t){return D.a.put("/api/users/".concat(t,"/courses/").concat(e),{isArchived:!0})},M=function(e){return D.a.get("/api/lectures/".concat(e))},U=function(e){return D.a.put("/api/courses/".concat(e),{isLive:!0})},H=function(e){return D.a.put("/api/courses/".concat(e),{isLive:!1})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return D.a.post("/api/users/".concat(e,"/courses/meta"),t)},q=function(e){return D.a.post("/api/users/".concat(e,"/courses/progress"))},G=function(e){return D.a.post("/api/courses/search",{keyword:e})},P=function(e){return D.a.get("/api/users/".concat(e,"/courses"))},V=function(e){return D.a.get("/api/users/".concat(e))},J=function(e,t){return D.a.post("/api/courses/".concat(e,"/lectures"),t)},W=function(e,t){return D.a.put("/api/lectures/".concat(e),t)},Y=function(e){return D.a.delete("/api/lectures/".concat(e))},z=function(e,t){return D.a.post("/api/users/".concat(e,"/courses"),t)},X=function(e,t){return D.a.put("/api/courses/".concat(e),t)},$=function(e){return D.a.delete("/api/courses/".concat(e))};var K=function(e){var t=Object(c.useContext)(O),a=t.state,n=t.dispatch,r=Object(c.useState)({email:"",password:""}),s=Object(i.a)(r,2),o=s[0],d=s[1],E=Object(c.useState)(!1),f=Object(i.a)(E,2),p=f[0],g=f[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),N=h[0],v=h[1],w=function(e){d(Object(x.a)(Object(x.a)({},o),{},Object(S.a)({},e.target.name,e.target.value)))};return p||a.isLoggedIn?l.a.createElement(u.a,{to:e.history.location.state?e.history.location.state.from.pathname:"/dashboard"}):l.a.createElement("div",{className:"wrapper position-relative"},N&&l.a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},N),l.a.createElement("div",{className:"container-fluid m-0 p-0 vh-100 d-flex justify-content-center align-items-center position-absolute",style:{top:0,left:0}},l.a.createElement("form",{id:"login-form",className:"w-25 d-flex flex-column",onSubmit:function(e){e.preventDefault(),A(o).then((function(e){document.getElementById("login-form").reset(),n({type:"LOGIN",payload:e.data}),g(!0)})).catch((function(e){v(e.response.data)}))}},l.a.createElement("h1",{className:"text-center mb-4 font-weight-bold"},"SIGN IN"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{required:!0,type:"email",className:"form-control",name:"email",id:"email",value:o.email,onChange:w})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{required:!0,minLength:"6",maxLength:"10",type:"password",className:"form-control",name:"password",id:"password",value:o.password,onChange:w})),l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Submit"),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement(m.b,{to:"/register"},l.a.createElement("p",{className:"text-muted"},"Create an Account")),l.a.createElement(m.b,{to:"/"},l.a.createElement("p",{className:"text-muted"},"Back to Home")))))};var Q=function(){var e=Object(c.useContext)(O),t=e.state,a=e.dispatch,n=Object(c.useState)({firstName:"",lastName:"",email:"",password:"",passwordConfirmation:""}),r=Object(i.a)(n,2),s=r[0],o=r[1],d=Object(c.useState)(""),E=Object(i.a)(d,2),f=E[0],p=E[1],g=function(e){o(Object(x.a)(Object(x.a)({},s),{},Object(S.a)({},e.target.name,e.target.value)))};return t.isLoggedIn?l.a.createElement(u.a,{to:"/dashboard"}):l.a.createElement("div",{className:"wrapper position-relative"},f&&l.a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},f),l.a.createElement("div",{className:"container-fluid m-0 p-0 vh-100 d-flex justify-content-center align-items-center position-absolute",style:{top:0,left:0}},l.a.createElement("form",{id:"register-form",className:"w-50 d-flex flex-column",onSubmit:function(e){if(e.preventDefault(),s.password!==s.passwordConfirmation)return document.getElementById("password-confirmation").classList.remove("is-valid"),document.getElementById("password-confirmation").classList.contains("is-invalid")&&document.getElementById("password-confirmation").classList.add("is-invalid"),void o(Object(x.a)(Object(x.a)({},s),{},{password:"",passwordConfirmation:""}));var t={firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password};_(t).then((function(e){document.getElementById("register-form").reset(),a({type:"LOGIN",payload:e.data})})).catch((function(e){p(e.response.data)}))}},l.a.createElement("h1",{className:"text-center mb-4 font-weight-bold"},"CREATE AN ACCOUNT"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{required:!0,type:"text",className:"form-control",name:"firstName",id:"firstName",value:s.firstName,onChange:g})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{required:!0,type:"text",className:"form-control",name:"lastName",id:"lastName",value:s.lastName,onChange:g})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{required:!0,type:"email",className:"form-control",name:"email",id:"email",value:s.email,onChange:g})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{required:!0,minLength:"6",maxLength:"10",type:"password",className:"form-control",name:"password",id:"password",value:s.password,onChange:g}),l.a.createElement("small",{id:"passwordHelp",className:"form-text text-muted"},"Password must be between 6 to 10 characters")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password-confirmation"},"Re-enter Password"),l.a.createElement("input",{required:!0,type:"password",className:"form-control",name:"passwordConfirmation",id:"password-confirmation",value:s.passwordConfirmation,onChange:g})),l.a.createElement("button",{type:"submit",className:"btn btn-warning"},"SUBMIT"),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement(m.b,{to:"/login"},l.a.createElement("p",{className:"text-muted"},"Already have an account?")),l.a.createElement(m.b,{to:"/"},l.a.createElement("p",{className:"text-muted"},"Back to Home")))))},Z=a(107),ee=a.n(Z),te=a(108),ae=a.n(te);var ne=function(e){var t=Object(c.useContext)(O),a=t.state,n=t.dispatch,r="learner"===e.toggle,s="master"===e.toggle;return l.a.createElement("nav",{className:"p-5 border-right shadow"},l.a.createElement("div",{className:"icon w-100 text-center"},l.a.createElement(m.b,{to:"/"},l.a.createElement("img",{src:ae.a,alt:"MASTERFUL"}))),l.a.createElement("div",{className:"user mt-5 text-center"},l.a.createElement(m.b,{to:"/users/".concat(a.user._id)},l.a.createElement("img",{src:a.user.profilePicture||"https://picsum.photos/350?random="+a.user._id||ee.a.url(a.user.email,{protocol:"https"}),alt:a.user.firstName+" "+a.user.lastName,className:"rounded-circle"}),l.a.createElement("h3",{className:"mt-3 font-weight-bold"},a.user.firstName+" "+a.user.lastName))),l.a.createElement("div",{className:"nav-links mt-5"},!s&&l.a.createElement(m.b,{to:"/master",className:"dropdown-item h4 text-center"},"MASTER DASHBOARD"),!r&&l.a.createElement(m.b,{to:"/dashboard",className:"dropdown-item h4 text-center"},"LEARNER DASHBOARD"),l.a.createElement("a",{className:"dropdown-item h4 text-center",onClick:function(){return n({type:"LOGOUT"}),l.a.createElement(u.a,{to:"/"})}},"LOG OUT")))},re=a(109);var ce=function(){return l.a.createElement("div",{className:"w-100 h-100 d-flex justify-content-center align-items-center"},l.a.createElement(re.JumpCircleLoading,{size:"large",style:{}}))},le=a(59),se=a.n(le);function oe(e){return l.a.createElement("div",{className:"mb-5"},l.a.createElement("div",{className:"d-flex align-items-center mb-5"},l.a.createElement("h1",{className:"font-weight-bold mr-5"},e.title),"streaming"===e.title.split(" ")[0].toLowerCase()&&l.a.createElement("img",{src:se.a,alt:"LIVE",height:"30px"})),l.a.createElement("div",{className:"card-deck course-card-deck pb-4"},e.courses.map((function(e){return l.a.createElement(ie,{course:e,key:e._id})}))))}function ie(e){return l.a.createElement("div",{className:"card course-card shadow"},l.a.createElement("img",{src:"https://picsum.photos/350?random="+e.course._id,alt:"course image",className:"card-img-top course-card-img-top"}),l.a.createElement(m.b,{to:"/courses/"+e.course._id},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title font-weight-bold"},e.course.title),l.a.createElement("p",{className:"card-text"},(e.course.description||"").substring(0,125)+"..."),l.a.createElement("p",{className:"card-text"},l.a.createElement("small",{className:"text-muted"},e.course.learners.length," enrolled")))))}function me(e){return l.a.createElement("div",{className:"w-100"},l.a.createElement("h4",null,e.result.length,' results for "',e.keyword,'"'),l.a.createElement("ul",{className:"list-group mt-2"},e.result.map((function(e){return l.a.createElement(ue,{course:e})}))))}function ue(e){return l.a.createElement(m.b,{to:"/courses/".concat(e.course._id)},l.a.createElement("li",{className:"list-group-item list-group-item-action d-flex align-items-center justify-content-between"},l.a.createElement("div",{className:"result-info d-flex align-items-center"},l.a.createElement("img",{src:"https://picsum.photos/350?random="+e.course._id,alt:"course image",className:"result-img mr-3"}),l.a.createElement("h4",null,e.course.title)),l.a.createElement("small",null,e.course.learners.length," enrolled")))}var de=function(){var e=Object(c.useContext)(O).state,t=Object(c.useState)(!0),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),m=o[0],u=o[1],d=Object(c.useState)([]),E=Object(i.a)(d,2),f=E[0],p=E[1],g=Object(c.useState)([]),b=Object(i.a)(g,2),h=b[0],N=b[1],v=Object(c.useState)([]),w=Object(i.a)(v,2),x=w[0],y=w[1],j=Object(c.useState)([]),C=Object(i.a)(j,2),L=C[0],S=C[1],I=Object(c.useState)([]),D=Object(i.a)(I,2),A=D[0],_=D[1];return Object(c.useEffect)((function(){B(e.user._id,6).then((function(e){var t=e.data;p(t.progress),N(t.suggested),y(t.streaming),S(t.trending),r(!1)})).catch((function(e){}))}),[]),l.a.createElement("div",{className:"learner-dashboard d-flex"},l.a.createElement(ne,{toggle:"learner"}),l.a.createElement("div",{className:"course-info p-5 overflow-auto w-75"},l.a.createElement("div",{className:"search-bar mt-3 w-100"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",className:"form-control",value:m,onChange:function(e){var t=e.target.value;u(t),t.length>0?(r(!0),t.length>1&&G(t).then((function(e){var t=e.data;r(!1),_(t)})).catch((function(e){}))):r(!1)},placeholder:"What would you like to learn today?...","aria-label":"Recipient's username","aria-describedby":"button-addon"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon"},"SEARCH")))),l.a.createElement("div",{className:"mt-3 courses",id:"courses"},""===m&&!n&&l.a.createElement(l.a.Fragment,null,l.a.createElement(oe,{title:"In Progress",courses:f}),l.a.createElement(oe,{title:"Suggested For You",courses:h}),l.a.createElement(oe,{title:"Streaming Now",courses:x}),l.a.createElement(oe,{title:"Trending Now",courses:L})),""!==m&&!n&&l.a.createElement(me,{keyword:m,result:A}),n&&l.a.createElement(ce,null))))},Ee=a(8),fe=a.n(Ee),pe=a(251),ge=a(24),be=a(41);function he(e){var t=Object(c.useContext)(O).state,a={title:e.course?e.course.title:"",description:e.course?e.course.description:"",courseLength:e.course?e.course.courseLength:0},n=Object(c.useState)(a),s=Object(i.a)(n,2),o=s[0],m=s[1],u=Object(c.useState)(""),d=Object(i.a)(u,2),E=d[0],f=d[1],p=function(e){m(Object(x.a)(Object(x.a)({},o),{},Object(S.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"modal fade",id:e.id||"courseForm",tabIndex:"-1",role:"dialog","aria-labelledby":"courseFormTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"courseFormTitle"},e.course?'EDIT "'.concat(e.course.title,'"'):"CREATE A COURSE"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("form",{id:"course-form",className:"d-flex flex-column",onSubmit:function(a){a.preventDefault(),e.course?X(e.course._id,o).then((function(e){})).catch((function(e){f(e.response.data)})):z(t.user._id,o).then((function(e){})).catch((function(e){f(e.response.data)})),r()("#".concat(e.id||"courseForm")).modal("hide"),e.rerender()}},l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{required:!0,type:"text",className:"form-control",name:"title",id:"title",value:o.title,onChange:p})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("textarea",{required:!0,maxLength:"200",className:"form-control",name:"description",id:"description",value:o.description,onChange:p}),l.a.createElement("small",{id:"descriptionHelp",className:"form-text text-muted"},"Max 200 characters")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"courseLength"},"Length"),l.a.createElement("input",{required:!0,type:"number",className:"form-control",name:"courseLength",id:"courseLength",value:o.courseLength,min:"1",onChange:p}),l.a.createElement("small",{id:"lengthHelp",className:"form-text text-muted"},"Duration in months"))),E&&l.a.createElement("div",{class:"alert alert-danger mx-3",role:"alert"},E),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},e.course?"Edit Course":"Create Course"))))))}function Ne(e){return l.a.createElement("div",{className:"shadow-lg"},l.a.createElement(pe.a,null,l.a.createElement(be.e,{data:e.schedule,height:660},l.a.createElement(ge.q,{defaultCurrentDate:Date.now(),defaultCurrentViewName:"Week"}),l.a.createElement(be.d,{startDayHour:8,endDayHour:23}),l.a.createElement(be.h,{startDayHour:8,endDayHour:23}),l.a.createElement(be.f,null),l.a.createElement(be.g,null),l.a.createElement(be.b,null),l.a.createElement(be.a,{showCloseButton:!0}),l.a.createElement(be.c,{shadePreviousCells:!0,shadePreviousAppointments:!0,updateInterval:1e3}))))}function ve(e){return l.a.createElement("div",{className:"master-card card mb-3 shadow-lg"},l.a.createElement("div",{className:"d-flex h-100"},l.a.createElement("img",{src:"https://picsum.photos/1000?random="+e.course._id,alt:"course image"}),l.a.createElement(m.b,{to:"/courses/"+e.course._id},l.a.createElement("div",{className:"card-body h-100 d-flex flex-column justify-content-between"},l.a.createElement("h4",{className:"card-title font-weight-bold"},e.course.title),l.a.createElement("p",{className:"card-text"},e.course.description),l.a.createElement("p",{className:"card-text"},l.a.createElement("small",{className:"text-muted"},e.course.learners.length," enrolled"))))))}var we=function(){var e=Object(c.useContext)(O).state,t=Object(c.useState)(!0),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(i.a)(s,2),m=o[0],u=o[1],d=Object(c.useState)([]),E=Object(i.a)(d,2),f=E[0],p=E[1];Object(c.useEffect)((function(){P(e.user._id).then((function(e){var t=e.data;u(t);var a=[];t.forEach((function(e){var t=e.lectures.filter((function(e){var t=new Date(e.date),a=fe()().startOf("isoWeek").subtract(1,"d").toDate(),n=fe()().endOf("isoWeek").subtract(1,"d").toDate();return a<=t&&t<=n})).map((function(t){var a=new Date(t.date);return{title:"".concat(t.title," (").concat(e.title,")"),startDate:a,endDate:fe()(a).add(t.length,"m").toDate()}}));a=a.concat(t)})),p(a),r(!1)})).catch((function(e){}))}),[n]);var g=m.filter((function(e){return!e.isArchived})),b=m.filter((function(e){return e.isArchived}));return l.a.createElement("div",{className:"master-dashboard d-flex"},l.a.createElement(ne,{toggle:"master"}),l.a.createElement("div",{className:"course-info p-5 overflow-auto w-75"},!n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"intro mb-3"},l.a.createElement("h2",{className:"font-weight-bold mb-3"},"Good Day, ",e.user.firstName),l.a.createElement("h3",null,"You have ",f.length," lectures this week."),l.a.createElement("h5",null,"Learn more about your Masterful experience?")),l.a.createElement(Ne,{schedule:f}),l.a.createElement("div",{className:"teaching mt-5"},l.a.createElement("h1",{className:"font-weight-bold mb-2"},"MY COURSES"),l.a.createElement("button",{className:"btn btn-lg btn-primary btn-add-course","data-toggle":"modal","data-target":"#courseForm"},"Teach A Course"),l.a.createElement(he,{rerender:function(){r(!0)}}),l.a.createElement("div",{className:"live-courses mt-5"},l.a.createElement("a",{className:"h3","data-toggle":"collapse",href:"#liveCourses"},"LIVE COURSES"),l.a.createElement("div",{id:"liveCourses",className:"mt-3"},g.map((function(e){return l.a.createElement(ve,{course:e,key:e._id})})))),l.a.createElement("div",{className:"not-live-courses mt-5"},l.a.createElement("a",{className:"h3","data-toggle":"collapse",href:"#notLiveCourses"},"COMPLETED COURSES"),l.a.createElement("div",{id:"notLiveCourses",className:"mt-3"},b.map((function(e){return l.a.createElement(ve,{course:e,key:e._id})})))))),n&&l.a.createElement(ce,null)))},xe=a(7);var Oe=function(e){var t=e.component,a=Object(xe.a)(e,["component"]),n=Object(c.useContext)(O),r=n.state;return n.dispatch,l.a.createElement(u.b,Object.assign({},a,{render:function(e){return r.isLoggedIn?l.a.createElement(t,e):l.a.createElement(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ye=a(44),je=a(45);var Ce=function(e){var t={title:e.lecture?e.lecture.title:"",description:e.lecture?e.lecture.description:"",date:e.lecture?function(e){function t(e){return e<10?"0".concat(e):e}var a=e.getFullYear(),n=t(e.getMonth()+1),r=t(e.getDate()),c=t(e.getHours()),l=t(e.getMinutes());return"".concat(a,"-").concat(n,"-").concat(r,"T").concat(c,":").concat(l)}(new Date(e.lecture.date)):void 0,length:e.lecture?e.lecture.length:0},a=Object(c.useState)(t),n=Object(i.a)(a,2),s=n[0],o=n[1],m=Object(c.useState)(""),u=Object(i.a)(m,2),d=u[0],E=u[1],f=function(e){o(Object(x.a)(Object(x.a)({},s),{},Object(S.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"modal fade",id:e.id||"lectureForm",tabIndex:"-1",role:"dialog","aria-labelledby":"lectureFormTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title font-weight-bold",id:"lectureFormTitle"},e.lecture?'EDIT "'.concat(e.lecture.title,'"'):"CREATE A LECTURE"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("form",{id:"lecture-form",className:"d-flex flex-column",onSubmit:function(t){t.preventDefault(),!s.date||new Date(s.date)<=new Date?E("Invalid Date for Future Lecture"):(s.date=new Date(s.date).toISOString().substring(0,16),e.lecture?W(e.lecture._id,s).then((function(e){})).catch((function(e){E(e.response.data)})):J(e.course._id,s).then((function(e){})).catch((function(e){E(e.response.data)})),r()("#".concat(e.id||"lectureForm")).modal("hide"),e.rerender())}},l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{required:!0,type:"text",className:"form-control",name:"title",id:"title",value:s.title,onChange:f})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("textarea",{required:!0,maxLength:"200",className:"form-control",name:"description",id:"description",value:s.description,onChange:f}),l.a.createElement("small",{id:"descriptionHelp",className:"form-text text-muted"},"Max 200 characters")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"date"},"Date"),l.a.createElement("input",{required:!0,type:"datetime-local",className:"form-control",name:"date",id:"date",value:s.date,min:(new Date).toISOString().substring(0,16),onChange:f})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"length"},"Length"),l.a.createElement("input",{required:!0,type:"number",className:"form-control",name:"length",id:"length",value:s.length,min:"1",max:"360",onChange:f}),l.a.createElement("small",{id:"lengthHelp",className:"form-text text-muted"},"Max 360 minutes (6 hours)"))),d&&l.a.createElement("div",{class:"alert alert-danger mx-3",role:"alert"},d),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},e.lecture?"Edit Lecture":"Create Lecture"))))))};var Le=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],s=a[1];return n?l.a.createElement(u.a,{to:e.redirectRoute}):l.a.createElement("div",{className:"modal",role:"dialog",id:e.id},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title font-weight-bold"},e.title),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("p",null,e.description)),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){e.handleSubmit(),r()("#".concat(e.id)).modal("hide"),e.rerender?e.rerender():s(!0)}},"Confirm")))))};function Se(e){return e.isMaster||e.enrolled?e.isActive?e.isMaster?l.a.createElement("div",null,!e.isLive&&l.a.createElement(m.b,{to:"/courses/".concat(e.courseId,"/lectures/").concat(e.lectureId)},l.a.createElement("div",{className:"btn btn-lg btn-lecture-icon"},l.a.createElement(ye.a,{icon:je.c,color:"white"})," ",l.a.createElement("span",{className:"h6 ml-2"},"START LECTURE"))),e.isLive&&l.a.createElement("div",{className:"btn btn-lg btn-lecture-icon disabled"},l.a.createElement(ye.a,{icon:je.c})," ",l.a.createElement("span",{className:"h6 ml-2"},"IN SESSION"))):l.a.createElement("div",{className:"d-flex align-items-center"},e.isLive&&l.a.createElement(m.b,{to:"/courses/".concat(e.courseId,"/lectures/").concat(e.lectureId)},l.a.createElement("div",{className:"btn btn-lg btn-lecture-icon"},l.a.createElement(ye.a,{icon:je.c,color:"green"})," ",l.a.createElement("span",{className:"h6 ml-2"},"JOIN LECTURE"))),!e.isLive&&l.a.createElement("div",{className:"btn btn-lg btn-lecture-icon disabled"},l.a.createElement(ye.a,{icon:je.c})," ",l.a.createElement("span",{className:"h6 ml-2"},"NOT AVAILABLE"))):l.a.createElement("a",{href:"https://www.youtube.com/watch?v=7X8II6J-6mU",target:"_blank"},l.a.createElement("div",{className:"btn btn-lg btn-replay-icon"},l.a.createElement(ye.a,{icon:je.a})," ",l.a.createElement("span",{className:"h6 ml-2"},"REPLAY"))):l.a.createElement("span",{className:"h6 ml-2"},"NOT ENROLLED")}var Ie=function(e){var t=e.user._id===e.course.master._id,a=new Date(e.lecture.date)>new Date,n=e.course.learners.map((function(e){return e._id})).includes(e.user._id);return l.a.createElement("div",{className:"card rounded-0"},l.a.createElement("div",{className:"card-header bg-white d-flex justify-content-between align-items-center",id:"heading"+e.index},l.a.createElement("div",null,l.a.createElement("span",{className:a?"text-success":"text-danger"},"\u25cf"),l.a.createElement("button",{className:"btn btn-link text-left btn-toggle-lecture",type:"button","data-toggle":"collapse","data-target":"#collapse"+e.index},l.a.createElement("h5",null,e.lecture.title),l.a.createElement("p",{className:"text-muted"},"Date: ",new Date(e.lecture.date).toLocaleString()))),l.a.createElement("button",{className:"btn btn-lg border-0"},l.a.createElement(Se,{isActive:a,isMaster:t,isLive:e.course.isLive,courseId:e.course._id,lectureId:e.lecture._id,enrolled:n}))),l.a.createElement("div",{id:"collapse"+e.index,className:"collapse","aria-labelledby":"heading"+e.index,"data-parent":"#lectureAccordion"},l.a.createElement("div",{className:"card-body"},a?l.a.createElement("h6",{className:"text-success"},"ACTIVE"):l.a.createElement("h6",{className:"text-danger"},"INACTIVE"),l.a.createElement("p",{className:"text-muted"},"Estimated ",e.lecture.length," minutes"),l.a.createElement("p",null,e.lecture.description),t&&l.a.createElement("div",{className:"lecture-btns d-flex mt-2"},a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-primary btn-edit-lecture mr-3","data-toggle":"modal","data-target":"#lectureFormEdit".concat(e.lecture._id)},"EDIT"),l.a.createElement(Ce,{course:e.course,lecture:e.lecture,id:"lectureFormEdit".concat(e.lecture._id),rerender:e.rerender})),l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-primary btn-delete-lecture","data-toggle":"modal","data-target":"#lectureFormDelete".concat(e.lecture._id)},"DELETE"),l.a.createElement(Le,{id:"lectureFormDelete".concat(e.lecture._id),title:"Confirm Deletion",description:"Are you sure that you want to delete the lecture ".concat(e.lecture.title,"? This action cannot be undone."),handleSubmit:function(){Y(e.lecture._id).then((function(e){e.data})).catch((function(e){}))},rerender:e.rerender}))))))};function De(e){if(e.isMaster){if(e.isArchived)return null;var t="archive";return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"course-archive-btn btn btn-lg mr-2","data-toggle":"modal","data-target":"#".concat(t)},"ARCHIVE"),l.a.createElement(Le,{id:t,title:"Confirm Archive",description:"Are you sure that you want to archive the course ".concat(e.course.title,"? This action cannot be undone."),handleSubmit:e.archive,rerender:e.rerender}))}if(e.enrolled){return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"course-unregister-btn btn btn-lg","data-toggle":"modal","data-target":"#".concat("unregister")},"UNREGISTER"),l.a.createElement(Le,{id:"unregister",title:"Confirm Unregistration",description:"Are you sure that you want to unregister from the course ".concat(e.course.title,"?"),handleSubmit:e.unregister,rerender:e.rerender}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"course-register-btn btn btn-lg","data-toggle":"modal","data-target":"#".concat("register")},"REGISTER"),l.a.createElement(Le,{id:"register",title:"Confirm Registration",description:"Are you sure that you want to register for the course ".concat(e.course.title,"?"),handleSubmit:e.register,rerender:e.rerender}))}function Ae(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"btn","data-toggle":"modal","data-target":"#lectureForm"},l.a.createElement(ye.a,{icon:je.b,size:"lg",color:"#2a9d8f"})),l.a.createElement(Ce,{course:e.course,rerender:e.rerender}))}function _e(e){return l.a.createElement(m.b,{to:"/users/".concat(e.learner._id)},l.a.createElement("div",{className:"list-group-item d-flex border-0 rounded-0 align-items-center"+(e.enrolled&&0===e.index?" user-myself":"")},l.a.createElement("img",{src:"https://picsum.photos/350?random="+e.learner._id,alt:"course image",className:"profile-pic mr-3"}),l.a.createElement("h5",null,e.learner.firstName+" "+e.learner.lastName)))}var Te=function(){var e=Object(u.g)().id,t=Object(c.useContext)(O).state,a=Object(c.useState)(!0),n=Object(i.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)({}),m=Object(i.a)(o,2),d=m[0],E=m[1];Object(c.useEffect)((function(){T(e).then((function(e){var t=e.data;E(t),s(!1)})).catch((function(e){}))}),[d._id,r]);var f=void 0,p=void 0,g=void 0,b=void 0;d.lectures&&(f=d.lectures.filter((function(e){return new Date(e.date)>new Date})),p=t.user._id===d.master._id,g=d.learners.map((function(e){return e._id})).includes(t.user._id),b=d.learners.sort((function(e,t){return e.firstName.localeCompare(t.firstName)})).filter((function(e){return e._id!==t.user._id})),g&&b.unshift(t.user));var h=function(){s(!0)};return l.a.createElement("div",{className:"course-dashboard d-flex"},l.a.createElement(ne,{toggle:"course"}),l.a.createElement("div",{className:"course-info overflow-auto w-75"},!r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"course-header d-flex"},l.a.createElement("div",{className:"course-header-info w-100 d-flex flex-column justify-content-between mt-4 mb-2 mx-2"},l.a.createElement("h1",{className:"font-weight-bold align-self-center mt-5 course-title"},d.title.toUpperCase()),l.a.createElement("div",{className:"course-actions d-flex justify-content-between align-items-end"},l.a.createElement("div",{className:"course-btns d-flex"},l.a.createElement(De,{isMaster:p,isArchived:d.isArchived,enrolled:g,course:d,archive:function(){k(d._id,t.user._id).then((function(e){})).catch((function(e){}))},register:function(){F(d._id,t.user._id).then((function(e){})).catch((function(e){}))},unregister:function(){R(d._id,t.user._id).then((function(e){})).catch((function(e){}))},rerender:h}),p&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-lg btn-warning rounded-0 font-weight-bold","data-toggle":"modal","data-target":"#editCourse".concat(d._id)},"EDIT"),l.a.createElement(he,{id:"editCourse".concat(d._id),course:d,rerender:h}))),l.a.createElement("div",{className:"master-info d-flex align-items-end align-self-end"},l.a.createElement("div",{className:"text-right master-info-name"},l.a.createElement("small",null,"Taught By"),l.a.createElement("h5",null,d.master.firstName+" "+d.master.lastName)),l.a.createElement("img",{src:"https://picsum.photos/350?random="+d.master._id,alt:"course image",className:"profile-pic ml-3"}))))),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement("div",{className:"course-container p-5"},l.a.createElement("div",{className:"course-description overflow-auto"},l.a.createElement("p",{className:"text-muted"},"Estimated duration: ",d.courseLength," months"),l.a.createElement("p",{className:"text-muted"},f.length," lectures remaining"),l.a.createElement("h4",{className:"mt-2"},d.description||"No description")),l.a.createElement("div",{className:"course-content d-flex mt-5"},l.a.createElement("div",{className:"course-lectures w-100"},l.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-4 w-100"},l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement("h2",{className:"font-weight-bold mr-2",style:{color:"#2a9d8f"}},"LECTURES"),p&&l.a.createElement(Ae,{course:d,rerender:h})),!d.isArchived&&d.isLive&&l.a.createElement("img",{src:se.a,className:"mr-2",alt:"LIVE",height:"25px"}),d.isArchived&&l.a.createElement("h4",{className:"text-dark"},"ARCHIVED")),l.a.createElement("div",{className:"d-flex w-100"},l.a.createElement("div",{className:"accordion w-75",id:"lectureAccordion"},d.lectures.sort((function(e,t){return new Date(t.date)-new Date(e.date)})).map((function(e,a){return l.a.createElement(Ie,{course:d,lecture:e,key:a,index:a,user:t.user,rerender:h})}))),l.a.createElement("div",{className:"course-learners card rounded-0 ml-2"},l.a.createElement("div",{className:"card-body mx-0 px-0"},l.a.createElement("h4",{className:"text-center mb-4 font-weight-bolder"},"ENROLLED LEARNERS"),l.a.createElement("div",{className:"list-group"},b.map((function(e,t){return l.a.createElement(_e,{learner:e,key:t,index:t,enrolled:g})}))))))))),p&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-lg w-100 btn-delete-course font-weight-bold","data-toggle":"modal","data-target":"#delete"},"DELETE COURSE"),l.a.createElement(Le,{id:"delete",title:"Confirm Deletion",description:"Are you sure that you want to delete the course ".concat(d.title,"? This action cannot be undone."),handleSubmit:function(){$(d._id).then((function(e){})).catch((function(e){}))},redirectRoute:"/master"}))),r&&l.a.createElement(ce,null)))},Fe=a(118);var Re=function(){var e=Object(u.g)(),t=e.id,a=e.lectureId,n=Object(c.useContext)(O).state,r=Object(c.useState)({}),s=Object(i.a)(r,2),o=s[0],m=s[1],d=Object(c.useState)(!1),E=Object(i.a)(d,2),f=E[0],p=E[1],g=a,b=Object(Fe.a)({roomName:g,parentNode:"jitsi-container"});function h(){H(t).then((function(e){p(!0)})).catch((function(e){}))}return Object(c.useEffect)((function(){M(a).then((function(e){var t=e.data;m(t),b&&b.executeCommand("subject",o.title)})).catch((function(e){})),window.onpopstate=function(e){h()}}),[o]),Object(c.useEffect)((function(){return b&&(b.addEventListener("videoConferenceJoined",(function(){b.executeCommand("displayName","".concat(n.user.firstName," ").concat(n.user.lastName)),U(t).then((function(e){})).catch((function(e){}))})),b.addEventListener("videoConferenceLeft",(function(){h(),b.executeCommand("hangup")}))),function(){return b&&b.dispose()}}),[b]),f?l.a.createElement(u.a,{to:"/courses/".concat(t)}):l.a.createElement("div",{className:"vw-100 vh-100",id:"jitsi-container"})},ke=a(79),Me=a.n(ke),Ue=a(119);var He=function(){var e=Object(u.g)().id,t=Object(c.useContext)(O).state,a=Object(c.useState)(!0),n=Object(i.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)({}),m=Object(i.a)(o,2),d=m[0],E=m[1],f=Object(c.useState)([]),p=Object(i.a)(f,2),g=p[0],b=p[1],h=Object(c.useState)([]),N=Object(i.a)(h,2),v=N[0],w=N[1];Object(c.useEffect)((function(){function a(){return(a=Object(Ue.a)(Me.a.mark((function t(){var a;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!1,t.next=3,P(e).then((function(e){var t=e.data;b(t)})).catch((function(e){a=!0}));case 3:return t.next=5,q(e).then((function(e){var t=e.data;w(t)})).catch((function(e){a=!0}));case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e===t.user._id?E(t.user):V(e).then((function(e){var t=e.data;E(t)})).catch((function(e){})),function(){return a.apply(this,arguments)}().then((function(e){e||s(!1)}))}),[d,r]);var x=void 0;return d&&(x=new Date(d.createdAt)),l.a.createElement("div",{className:"profile-dashboard d-flex"},l.a.createElement(ne,{toggle:"profile"}),l.a.createElement("div",{className:"profile-info overflow-auto w-75"},!r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"profile-header d-flex align-items-center justify-content-between py-4 px-5"},l.a.createElement("img",{src:"https://picsum.photos/350",alt:"profile pic",className:"h-100 rounded-circle shadow-lg"}),l.a.createElement("h1",{className:"font-weight-bold"},d.firstName+" "+d.lastName),l.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},l.a.createElement("p",{className:"text-muted"},"Days with us"),l.a.createElement("div",{className:"day-counter rounded-circle mx-auto d-flex align-items-center justify-content-center my-2 text-white shadow-lg"},l.a.createElement("span",{className:"h4 font-weight-bold m-0 p-0"},Math.floor(fe.a.duration(new Date-x).asDays()))),l.a.createElement("p",{className:"text-muted"},"from ",x.toLocaleDateString()))),l.a.createElement("div",{className:"p-5"},l.a.createElement(oe,{title:"I'm teaching ".concat(g.length," courses"),courses:g}),l.a.createElement(oe,{title:"and learning ".concat(v.length," courses"),courses:v}))),r&&l.a.createElement(ce,null)))};a(205);var Be=function(){var e=Object(c.useReducer)(j,y),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));e&&n({type:"LOGIN",payload:e})}),[]),l.a.createElement(O.Provider,{value:{state:a,dispatch:n}},l.a.createElement(m.a,null,l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/",exact:!0,component:L}),l.a.createElement(u.b,{path:"/login",exact:!0,component:K}),l.a.createElement(u.b,{path:"/register",exact:!0,component:Q}),l.a.createElement(Oe,{path:"/master",exact:!0,component:we}),l.a.createElement(Oe,{path:"/dashboard",exact:!0,component:de}),l.a.createElement(Oe,{path:"/courses/:id",exact:!0,component:Te}),l.a.createElement(Oe,{path:"/courses/:id/lectures/:lectureId",exact:!0,component:Re}),l.a.createElement(Oe,{path:"/users/:id",exact:!0,component:He}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},59:function(e,t,a){e.exports=a.p+"static/media/live-icon.8b84e779.svg"}},[[132,1,2]]]);
//# sourceMappingURL=main.3c597a53.chunk.js.map